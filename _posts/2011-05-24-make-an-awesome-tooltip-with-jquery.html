---
layout: post
title: Make an awesome tooltip with jQuery
---
<p>I will attempt to show you how to make a simple yet awesome tooltip using jQuery and CSS3.</p>
<p><a href='http://www.miguelmota.com/plugins/mtip'>View the demo</a></p>
<p>Ok so first let's set up the HTML:</p>

{% highlight html %}
<a class='mtip' href='http://wwww.miguelmota.com' title='Hello, I am a tootip!'>hover over me</a>
{% endhighlight %}

<p>All we did was make a link with the class of <code>mtip</code> (that's what I decided to call this mini plugin) and gave it a <code>title</code> attribute.</p>
<p>Now let's move on to the fun stuff. We are going to make a self executing function so that the plugin won't collide with other libraries that use the <code>$</code> dollar sign:</p>

{% highlight javascript %}
(function($) {

})(jQuery);
{% endhighlight %}

<p>Inside this function we are going to add a new function property to the <code>jQuery.fn</code> object where the name of the property is the name of the plugin:</p>

{% highlight javascript %}
(function($) {
	$.fn.mtip = function() {
		//plugin code
	}
})(jQuery);
{% endhighlight %}

<p>Ok now we want to rename the <code>title</code> to something else, in this case I renamed it to <code>mtip</code>. How we are going to do this is by making a new attribute and copying the contents of the <code>title</code> 
attribute and then removing the <code>title</code> attribute. So what's the point in doing this? if we don't, we will have our custom tooltip and the default tooltip pop up at the same time.. which will be a nuisance!</p>

{% highlight javascript %}
$(this).attr('mtip', $(this).attr('title')).removeAttr('title');
{% endhighlight %}

<p>So now let's assign the <code>mtip</code> attribute to a variable named <code>title</code>:</p>

{% highlight javascript %}
var title = $(this).attr('mtip');
{% endhighlight %}

<p>Next we want to wrap the link in a container:</p>

{% highlight javascript %}
$(this).wrap("<div class='tooltip-container' />");
{% endhighlight %}

<p>Let's create the functions for the hover method:</p>

{% highlight javascript %}
$(this).hover(function() {
		//hover over do stuff
	}, function() {
		//hover out do stuff
});
{% endhighlight %}

<p>Inside the first hover function let's make a <code>div</code> and give a class of <code>tooltip</code>, then insert the content from <code>title</code> variable in to the <code>div</code> and hide it:</p>

{% highlight javascript %}
$(this).after("<div class='tooltip'></div>");
$('div.tooltip').text(title).hide();
{% endhighlight %}

<p>We're going to make the tooltip fade in going upwards when they hover over:</p>

{% highlight javascript %}
$('div.tooltip').css({
	'visibility': 'visible'
});
jQuery(this).next('div.tooltip').stop(true, true).animate({opacity: 'show', top: '-30'}, 'slow');
{% endhighlight %}

<p>Now make it fade out on hover out:</p>

{% highlight javascript %}
jQuery(this).next('div.tooltip').animate({opacity: 'hide', top: '-20'}, 'fast');
{% endhighlight %}

<p>So the whole jQuery plugin code should look something like this:</p>

{% highlight javascript %}
(function($) {
	$.fn.mtip = function(options) {
		$(this).attr('mtip', $(this).attr('title')).removeAttr('title');
		var title = $(this).attr('mtip');
		$(this).wrap('<div class="tooltip_container" />');
		$(this).hover(function() {
					$(this).after("<div class='tooltip'></div>");
					$('div.tooltip').text(title).hide();
					$('div.tooltip').css({
						'visibility': 'visible'
					});
					jQuery(this).next('div.tooltip').stop(true, true).animate({opacity: 'show', top: '-30'}, 'slow');
			}, function() {
					jQuery(this).next('div.tooltip').animate({opacity: 'hide', top: '-20'}, 'fast');
		});
	}
})(jQuery);
{% endhighlight %}

<p>It's time to style the tooltip:</p>

{% highlight css %}
div.tooltip-container {
	position: relative;
}

div.tooltip  {
	background-color: #000;
	border-radius: 5px;
	-moz-border-radius: 5px;
	-webkit-border-radius: 5px;
	box-shadow: 1px 1px 3px #000;
	-moz-box-shadow: 1px 1px 3px #000;
	-webkit-box-shadow: 1px 1px 3px #000;
	color: #fff;
	font-family: Aria, sans-serif;
	font-size: 12px;
	opacity: .8;
	padding: 5px;
	position: absolute;
	text-align: center;
	top: -20px;
	visibility: hidden;
	z-index: 1000;
}

/* triangle on the bottom */
div.tooltip:after {
	border-color: #000 transparent;
	border-style: solid;
	border-width: 5px 5px 0; /* vary these values to change the angle of the vertex */
	bottom: -5px; /* value = - border-top-width - border-bottom-width */
	content: "";
	display: block;
	height: 0;
	left: 10px; /* controls horizontal position */
	margin-left: -5px;
	position: absolute;
	width: 0;
	z-index: 1000;
}
{% endhighlight %}

<p>The CSS is self-explanatory so I won't go in much detail</p>
<p>So the last step now is to initialize our tooltip:</p>

{% highlight javascript %}
$(document).ready(function(){
	$('.mtip').mtip();
});
{% endhighlight %}

<p>That's it folks! You should now have a functioning mini tooltip plugin. If I made mistakes or if you would like to add, please comment! any feedback is greatly appreciated.</p>