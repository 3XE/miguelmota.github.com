<!doctype html>
<html>
<head>
    <title>Latitude | Miguel Mota</title>
    <link rel='shortcut icon' href='http://www.miguelmota.com/favicon.ico' />
    <link href='http://www.miguelmota.com/code/css/reset.min.css' rel='stylesheet' />
    <link href='http://www.miguelmota.com/styles/global.css' rel='stylesheet' />
    <script src='http://code.jquery.com/jquery.min.js'></script>
    <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
    <script>
        $(document).ready(function(){
            // Open external links in new tab
            $('a[rel*=external]').live('click', function(){
                window.open(this.href);
                return false;
            });
            // Highlight icon on link hover
            $('a').has('.icon').hover(
                function(){
                    $('.icon', this).addClass('icon-no-opacity');
                },
                function(){
                    $('.icon', this).removeClass('icon-no-opacity');
                }
            );



  
$.ajax({
        url: 'https://www.googleapis.com/latitude/v1/currentLocation?access_token=ya29.AHES6ZQgOBXHkBy0yPqQtRhINUDWm3j_DEex9V-CSIyl21Q&callback=?',
        type: 'get',
        dataType: 'json',
        cache: false,
        crossDomain: true,
        success: function (data) {
            var data = data.data;
            var lat = data.latitude;
            var lng = data.longitude;

            var geocoder = new google.maps.Geocoder();
             var latlng = new google.maps.LatLng(lat,lng);
             geocoder.geocode(
                 {'latLng'  : latlng }, 
                 function(results, status) {
                    if (status == google.maps.GeocoderStatus.OK) {
                        var current_location = null;
                        if (results[1]) {
                           current_location = results[1].formatted_address;
                        }
                        else if (results[6]) {
                           current_location = results[6].formatted_address;
                        }
                        else {
                            current_location = "unable to retrieve location";
                        }
                    }
                 }
             );
        }
});


        });
    </script>
    <style>
        body {
        	background-color: #141414;
        	display: block;
        }
        a {
            background: #141414;
            color: #007299;
            display: block;
            padding: 5px;
        }
        a:hover {
            background: #000;
        }
        .icon-no-opacity {
            opacity: 1;
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
            filter: alpha(opacity=100);
        }
        .icon-no-opacity:hover,
        .icon-no-opacity:active {
            opacity: 1;
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
            filter: alpha(opacity=100);
        }
        .status-date {
            color: #999;
            font-size: 12px;
            font-weight: normal;
            float: right;
        }
    </style>
</head>
<body>



</body>
</html>
