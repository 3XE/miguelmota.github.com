<!doctype html>
<html lang='en-US'>
<head>
	<meta charset='utf-8' />
	<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' />
<!--
 * Author: Miguel Mota, www.miguelmota.com
 * Email: hello@miguelmota.com
 * Phone: +1.951.215.6682
 * License: Creative Commons Attribution 3.0 License
                                      ___                           __               
           __                        /\_ \                         /\ \__            
  ___ ___ /\_\     __   __  __     __\//\ \         ___ ___     ___\ \ ,_\    __     
/' __` __`\/\ \  /'_ `\/\ \/\ \  /'__`\\ \ \      /' __` __`\  / __`\ \ \/  /'__`\   
/\ \/\ \/\ \ \ \/\ \L\ \ \ \_\ \/\  __/ \_\ \_    /\ \/\ \/\ \/\ \L\ \ \ \_/\ \L\.\_ 
\ \_\ \_\ \_\ \_\ \____ \ \____/\ \____\/\____\   \ \_\ \_\ \_\ \____/\ \__\ \__/.\_\
 \/_/\/_/\/_/\/_/\/___L\ \/___/  \/____/\/____/    \/_/\/_/\/_/\/___/  \/__/\/__/\/_/
                   /\____/                                                           
                   \_/__/                                                                         
-->
	<meta name='description' content="Creative freelance web developer from the always sunny Southern California." />	
	<meta name='keywords' content='miguel mota,web developer,creative freelance,html5 css3 web design' />
	<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0;' />
	<meta name='apple-mobile-web-app-status-bar-style' content='black' />
	<meta name='apple-mobile-web-app-capable' content='yes' />
	<title>
	
		
		
			Posts tagged &ldquo;HTML&rdquo; &#187; Blog &#187; 
		
		
	
	Miguel Mota | Freelance Web Developer</title>
	<link rel='canonical' href='http://www.miguelmota.com/' />
	<link rel='alternate' type='application/rss+xml' href='http://feeds.feedburner.com/miguelmota' />
	<link rel='shortcut icon' href='/favicon.ico' />
	<link rel='apple-touch-icon-precomposed' href='/apple-touch-icon.png' />
	<link rel='apple-touch-startup-image' href='/startup.png' />
	<link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Ubuntu+Condensed' />
	<link rel='stylesheet' href='/css/reset.min.css' />
	<link rel='stylesheet' href='/css/pygment.friendly.min.css' />
	<link rel='stylesheet' href='/assets/plugins/fancybox/jquery.fancybox.css' />
	<link rel='stylesheet' href='/css/style.css' />
	
	<link rel='stylesheet' href='/css/blog.css' />

	<!--[if IE]>
		<link rel='stylesheet' href='/css/ie.css' />
	<![endif]-->
	<script src='/js/libs/modernizr.min.js'></script>
	<script src='http://www.google.com/jsapi?key=ABQIAAAAaPkBW3vge4odDUBtbC4e-xRutoCKHFl1g3ES_cmPf4BxqcVG3BR7pbnwzjWgqiKDxSEqSvzSUG2pww'></script>
</head>
<body>
<div id='top'></div>
<!--[if IE]>
<div class='ie-notice-wrap'><div class='ie-notice'>Boo! It looks like you're using <span class='ie-notice-color-red'>Internet Explorer</span>. Some things may not look right.<br />
<strong class='ie-notice-font-big'>HELP MOVE THE WEB FORWARD</strong> by using <a href='http://www.google.com/chrome' rel='external'>Google Chrome</a>, 
<a href='http://www.mozilla.org/en-US/firefox/new/' rel='external'>Firefox</a> or <a href='http://www.opera.com/browser/' rel='external'>Opera</a>. <a class='icon icon-x-16 ie-notice-close' href='javascript:void(0);'></a></div></div>
<![endif]-->
<div class='main-wrap'>
	<div class='main-side-nav-wrap'>
		<nav class='main-side-nav'>
			<div class='main-side-nav-info'>
				<a class='nav-logo' href='/'><img src='/assets/site/logo-cube.png' alt='' /></a>
				<a class='site-title' href='/'><h1>Miguel Mota</h1> <span class='site-description'>Web Developer</span></a>
			</div>
			<ul class='main-side-nav-ul'>
				<li>
					<ul class='main-side-nav-ul-m'>
						<li><a id='tumblog' href='http://miguelmota.tumblr.com' rel='external'><span class='icon icon-nav icon-tumblr-16'></span> tumblog<div class='clear'></div></a></li>
						<li><a id='stream' href='/stream'><span class='icon icon-nav icon-cloud-16'></span> <span class='page'>stream</span><div class='clear'></div></a></li>
					</ul>
					<ul class='main-side-nav-ul-m'>
						<li><a id='about' href='/about'><span class='icon icon-nav icon-person-16'></span> <span class='page'>about</span><div class='clear'></div></a></li>
						<li><a id='portfolio' href='/portfolio'><span class='icon icon-nav icon-suitcase-16'></span> <span class='page'>portfolio</span><div class='clear'></div></a></li>
					</ul>
					<ul class='main-side-nav-ul-m'>
						<li><a id='contact' href='/contact'><span class='icon icon-nav icon-envelope-16'></span> <span class='page'>contact</span><div class='clear'></div></a></li>
						<li><a id='blog' href='/blog'><span class='icon icon-nav icon-book-16'></span> <span class='page'>blog</span><div class='clear'></div></a></li>
						<div class='clear'></div>
					</ul>
				</li>
			</ul>
			<form class='search-form' action='/search' method='get'>
	   			<input type='text' class='search-input' name='q' placeholder='[search]' />
	    		<input type='submit' class='search-button' value='Search' />
			</form>
			<div class='follow-wrap'>
				<a class='icon icon-twitter-24 icon-social' href='http://twitter.com/miguel_mota' title='twitter' rel='external'></a>
				<a class='icon icon-facebook-24 icon-social' href='http://www.facebook.com/miguel.mota2' title='facebook' rel='external'></a>
				<a class='icon icon-flickr-24 icon-social' href='http://www.flickr.com/photos/miguelmota' title='flickr' rel='external'></a>
				<a class='icon icon-lastfm-24 icon-social' href='http://www.last.fm/user/miguel_mota' title='last.fm' rel='external'></a>
				<a class='icon icon-tumblr-24 icon-social' href='http://miguelmota.tumblr.com' title='tumblr' rel='external'></a>
				<a class='hide icon icon-random-24 icon-social' href='/random' title='random'></a>
				<a class='icon icon-gplus-24 icon-social' href='https://plus.google.com/102174577273194387652' title='google+' rel='external'></a>
				<!-- <a class='hide icon icon-youtube-24 icon-social' href='http://www.youtube.com/user/miguelmota' title='youtube' rel='external'></a>
				<a class='hide icon icon-vimeo-24 icon-social' href='http://vimeo.com/miguelmota' title='vimeo' rel='external'></a>
				<a class='hide icon icon-pinterest-24 icon-social' href='http://pinterest.com/miguelmota' title='pinterest' rel='external'></a>
				<a class='hide icon icon-deviantart-24 icon-social' href='http://miguelmota.deviantart.com/' title='deviant art' rel='external'></a>
				<a class='hide icon icon-dribbble-24 icon-social' href='http://dribbble.com/miguelmota' title='dribbble' rel='external'></a>
				<a class='hide icon icon-stumbleupon-24 icon-social' href='http://www.stumbleupon.com/stumbler/miguelmota' title='stumbleupon' rel='external'></a>
				<a class='hide icon icon-blogger-24 icon-social' href='http://miguel-mota.blogspot.com' title='blogger' rel='external'></a>
				<a class='hide icon icon-wordpress-24 icon-social' href='http://miguelmota.wordpress.com' title='wordpress' rel='external'></a> -->
				<a class='icon icon-feed-24 icon-social' href='http://feeds.feedburner.com/miguelmota' title='subscribe' rel='external'></a>
				<a class='hide icon icon-mail-24 icon-social' href='mailto:miguelmota2@gmail.com' title='email'></a>
				<a class='hide icon icon-skype-24 icon-social' href='skype:miguelmota?chat' title='skype'></a>
				<a class='hide icon icon-world-24 icon-social' href='miguelmota' title='website' rel='external'></a>
				<div class='plus-one-button-wrap'><g:plusone class='plus-one-button' href='http://www.miguelmota.com' count='false' size='medium'></g:plusone></div>
			</div>
			<div id='latest-tweet-wrap'>
				<a class='icon icon-twitter-bird-2-24 icon-social tweet-bird-icon' href='http://twitter.com/miguel_mota' title='follow @miguel_mota' rel='external'></a>
				<div id='latest-tweet'><div class='latest-tweet-content'><span class='latest-tweet-loading'>loading tweet...</span></div></div>
				<div class='clear'></div>
			</div>
		</nav>
		<div class='clear'></div>
	</div>
	<div class='main-content-wrap'>
		<h1 class='title'><span class='icon icon-book-32 icon-title icon-no-hover'></span> <a href='/'><span class='miguel'>Miguel</span><span class='mota'>Mota</span></a><span class='slash'>/</span><span class='sub'><span>Posts tagged &ldquo;HTML&rdquo;</span></span></h1>
<section class='content blog'>

  
    
  

  
    
  

  
    
      <div class='content-item blog-post-item blog-post-grid'>
        <h1><a href='/blog/ant-task-to-compress-html-files'>Ant task to compress HTML files <span class='arrow'>&#8250;</span></a></h1>
        <div class='blog-post-text'>
          <a href='/blog/ant-task-to-compress-html-files'><img class='blog-post-thumb' src='/assets//blog/ant-task-to-compress-html-files/ant-task-to-compress-html-files-thumb-large.png' alt='' /></a>
          <p>I will show you how to compress your HTML files using the Java library <a href='http://code.google.com/p/htmlcompressor/' rel='external'>HtmlCompressor</a>. 
So let's say your html code looks something like this:</p>
<div class="highlight"><pre><code class="html"><span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;title&gt;</span>htmlcompressor<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;p&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed gravida suscipit lectus.<span class="nt">&lt;/p&gt;</span>
	<span class="c">&lt;!-- comment --&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>


<p>After we compress it, it'll look like this:</p>

<div class="highlight"><pre><code class="html"><span class="cp">&lt;!doctype html&gt;</span> <span class="nt">&lt;html&gt;</span> <span class="nt">&lt;head&gt;</span> <span class="nt">&lt;title&gt;</span>htmlcompressor<span class="nt">&lt;/title&gt;</span> <span class="nt">&lt;/head&gt;</span> <span class="nt">&lt;body&gt;</span> <span class="nt">&lt;p&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed gravida suscipit lectus.<span class="nt">&lt;/p&gt;</span> <span class="nt">&lt;/body&gt;</span> <span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>


<p>Compressing your html files reduces it's size by ~20% by removing unnecessary white space, comments and stuff that it doesn't need in order to keep the structure of the content. The result is a smaller file size which equals to faster page load.</p>

<p>Ok, so first make sure you have <a href='http://ant.apache.org/' rel='external'>ant</a> installed in <a href='http://www.eclipse.org/' rel='external'>eclipse</a>. After go ahead and download the <code>htmlcompressor</code> <code>.jar</code> from it's <a href='http://code.google.com/p/htmlcompressor/'>Google Project page</a>. 
Create a directory in the root of your project called <code>lib</code> and drop the <code>.jar</code> in it. Then again in the root directory, create the xml file called <code>build.xml</code>. Include the following code:</p>

<div class="highlight"><pre><code class="xml"><span class="cp">&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">default=</span><span class="s">&#39;compress-html&#39;</span><span class="nt">&gt;</span>
	
	<span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">&#39;compress-html&#39;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;apply</span> <span class="na">executable=</span><span class="s">&#39;java&#39;</span><span class="nt">&gt;</span>
			<span class="nt">&lt;fileset</span> <span class="na">dir=</span><span class="s">&quot;&quot;</span> <span class="na">includes=</span><span class="s">&#39;*.html&#39;</span><span class="nt">/&gt;</span>
			<span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">&#39;-jar&#39;</span><span class="nt">/&gt;</span>
			<span class="nt">&lt;arg</span> <span class="na">path=</span><span class="s">&#39;lib/htmlcompressor-1.5.2.jar&#39;</span><span class="nt">/&gt;</span>
			<span class="nt">&lt;arg</span> <span class="na">line=</span><span class="s">&#39;-t html&#39;</span><span class="nt">/&gt;</span>
			<span class="nt">&lt;srcfile/&gt;</span>
			<span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">&#39;-o&#39;</span><span class="nt">/&gt;</span>
			<span class="nt">&lt;mapper</span> <span class="na">type=</span><span class="s">&#39;glob&#39;</span> <span class="na">from=</span><span class="s">&#39;*&#39;</span> <span class="na">to=</span><span class="s">&#39;compressed/*&#39;</span><span class="nt">/&gt;</span>
			<span class="nt">&lt;targetfile/&gt;</span>
		<span class="nt">&lt;/apply&gt;</span>
	<span class="nt">&lt;/target&gt;</span>
	
<span class="nt">&lt;/project&gt;</span>
</code></pre>
</div>


<p>What we did is created a project which will execute the <code>compress-html</code> target by default. In the target we are telling it to include all the <code>html</code> files in the root directory 
and then output the compressed files in a new directory called <code>compressed</code>. the <code>-t</code> flag means <code>type</code> and <code>-o</code> means <code>output</code>. By default the filenames of the source files will be added to 
the end fo the command, so we use <code>srcfile</code> to place it where we want it. <code>targetfile</code> is used to add the target filenames to the command or else they'll be left out. The <code>mapper</code> type <code>glob</code> means that it will substitue the <code>*</code> in the <code>to</code> pattern with the text that matches the <code>*</code> in the <code>from</code> pattern.</p>

<p>Now run the <code>build.xml</code> as an <code>Ant Build</code> and everything should go as planned. I hope this helped!</p>
        </div>
        <div class='blog-post-ellipsis'>&#8230;</div>
        <a class='blog-view-post-wrap' href='/blog/ant-task-to-compress-html-files'>show more <span class='arrow'>&#8250;</span></a>
        <div class='blog-post-tags'>
          <span class='icon icon-tags-16 icon-no-hover'></span>
          
            <a href='/tag/HTML'>HTML</a>
          
            <a href='/tag/ant'>ant</a>
          
        </div>
        <div class='blog-post-footer'>
          <a href='/blog/ant-task-to-compress-html-files'><span class='icon icon-clock-16'></span> <time datetime='2011-10-14'>14 Oct 2011</time></a> 
          <span class='dsq-comment-count-wrap'><a class='icon icon-comments-16' href='/blog/ant-task-to-compress-html-files'></a> <a class='dsq-comment-count' href='/blog/ant-task-to-compress-html-files#disqus_thread' data-disqus-identifier='tag/HTML/index.html'></a></span>
          <div class='clear'></div>
        </div>
        <div class='blog-share-wrap'>
                <span class='st_twitter' st_url='/blog/ant-task-to-compress-html-files' st_title='Ant task to compress HTML files'></span><span class='st_facebook' st_url='/blog/ant-task-to-compress-html-files' st_title='Ant task to compress HTML files'></span><span class='st_tumblr' st_url='/blog/ant-task-to-compress-html-files' st_title='Ant task to compress HTML files'></span><span class='st_stumbleupon' st_url='/blog/ant-task-to-compress-html-files' st_title='Ant task to compress HTML files'></span><span class='st_delicious' st_url='/blog/ant-task-to-compress-html-files' st_title='Ant task to compress HTML files'></span><span class='st_email' st_url='/blog/ant-task-to-compress-html-files' st_title='Ant task to compress HTML files'></span><span class='st_sharethis' st_url='/blog/ant-task-to-compress-html-files' st_title='Ant task to compress HTML files'></span>
                <script>var switchTo5x=true;</script><script src='http://w.sharethis.com/button/buttons.js'></script><script>stLight.options({publisher:'bf5b1133-3663-44ea-a232-a2c2265b117f'});</script>  
          <input class='short-url' type='text' value='http://mig.gs/Vx' />
          <div class='clear'></div>
        </div>
        <div class='clear'></div>
      </div>
    
  
    
  

  
    
  
    
  

  
    
  
    
  

  
    
  

  
    
  
    
  

</section>
		<div class='loader-container'><div class='page-loader'></div></div>
		<div class='clear'></div>
		<footer class='main-footer'>
			<div class='main-footer-content'><a class='logo-miguelmota' href='https://plus.google.com/102174577273194387652' rel='author'>Google+</a><strong>&#169; 2012</strong> &#8226; powered by <a href='http://jekyllrb.com' rel='external'>jekyll</a></div>
			<div class='clear'></div>
		</footer>
	</div>
<a class='top-link icon icon-up-24' href='#top'></a>
</div>
<div class='clear'></div>
<script src='/js/libs/jquery.min.js'></script>
<script src='/js/libs/jquery-ui.min.js'></script>
<script src='/assets/plugins/cookie/jquery.cookie.min.js'></script>
<script src='/assets/plugins/masonry/jquery.masonry.min.js'></script>
<script src='/assets/plugins/timeago/jquery.timeago.min.js'></script>
<script src='/assets/plugins/fancybox/jquery.fancybox.pack.js'></script>
<script src='/assets/plugins/validate/jquery.validate.min.js'></script>
<script src='/code/mtippy/jquery.mtippy.js'></script>
<script src='http://maps.google.com/maps/api/js?sensor=false'></script>
<script src='/js/scripts.js'></script>

	<script src='/js/blog.js'></script>

<script>
	/* 
	 * Google Plus One
	 */
	(function() {
		  var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
		  po.src = 'https://apis.google.com/js/plusone.js';
		  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
	})();

	/* 
	 * Google Analytics
	 */
	var _gaq = _gaq || [];
 	_gaq.push(['_setAccount', 'UA-12642068-1']);
 	_gaq.push(['_setDomainName', '.miguelmota.com']);
	_gaq.push(['_trackPageview']);
 	(function() {
   		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
   		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
 	})();
</script>
<noscript style='display:none;background-color:#a80f0f;color:#fff;font-size:24px;font-weight:bold;padding:20px;position:fixed;text-align:center;text-transform:uppercase;top:0;width:100%;'>Must enable JavaScript</noscript>
</body>
</html>